<div class="split-screen">
  
  <div class="banner-section">
    <div class="banner-content">
      <div class="logo-badge">
        <i class='bx bxs-shapes'></i> </div>
      
      <h1>
        <span *ngIf="isLoginMode">Bem-vindo<br>de volta!</span>
        <span *ngIf="!isLoginMode">Junte-se ao<br>PIM Online!</span>
        <span class="hand-wave">ðŸ‘‹</span>
      </h1>
      
      <p>Gerencie seus exercÃ­cios, conecte-se com professores e evolua sua jornada acadÃªmica no IFAL.</p>
    </div>

    <div class="circle c1"></div>
    <div class="circle c2"></div>
    
    <div class="copyright">Â© 2025 PIM. Todos os direitos reservados.</div>
  </div>

  <div class="form-section">
    <div class="form-wrapper">

      <div *ngIf="!showGenderSelect">
        <div class="form-header">
          <h2>{{ isLoginMode ? 'Acesse sua conta' : 'Primeiro Acesso' }}</h2>
          <p>
            {{ isLoginMode ? 'Insira suas credenciais para continuar.' : 'Preencha os dados para criar seu acesso.' }}
          </p>
        </div>

        <div class="error-box" *ngIf="errorMessage">
          <i class='bx bxs-error-circle'></i> <span>{{ errorMessage }}</span>
        </div>

        <div class="input-group" *ngIf="!isLoginMode">
          <label>Nome Completo</label>
          <input 
            type="text" 
            [(ngModel)]="nome" 
            class="input-field" 
            placeholder="Como vocÃª quer ser chamado?"
            autocomplete="name"
          >
        </div>

        <div class="input-group">
          <label>Email Institucional</label>
          <input 
            type="email" 
            [(ngModel)]="email" 
            class="input-field" 
            placeholder="ex: nome@aluno.ifal.edu.br" 
            (keyup.enter)="onSubmit()"
            autocomplete="email"
          >
        </div>

        <div class="input-group">
          <label>Senha</label>
          <input 
            type="password" 
            [(ngModel)]="password" 
            class="input-field" 
            [placeholder]="isLoginMode ? 'Sua senha' : 'Crie uma senha para este site'" 
            (keyup.enter)="onSubmit()"
            autocomplete="current-password"
          >
          <small class="hint-text" *ngIf="!isLoginMode">
            <i class='bx bx-info-circle'></i> Crie uma senha exclusiva para o PIM (nÃ£o precisa ser a do SIGAA).
          </small>
        </div>

        <button (click)="onSubmit()" class="btn-primary" [disabled]="loading">
          <span *ngIf="!loading">{{ isLoginMode ? 'Entrar Agora' : 'Criar meu Acesso' }}</span>
          <span *ngIf="loading"><i class='bx bx-loader-alt bx-spin'></i> Processando...</span>
        </button>

        <div class="footer-link">
          <p>
            {{ isLoginMode ? 'Ainda nÃ£o tem senha aqui?' : 'JÃ¡ possui cadastro?' }}
            <a (click)="toggleMode()">{{ isLoginMode ? 'Criar conta' : 'Fazer Login' }}</a>
          </p>
          <a class="footer-link link-recover" *ngIf="isLoginMode" href="#">Esqueceu a senha? <strong>Recuperar</strong></a>
        </div>

        <div class="divider">
          <span>ou acesso rÃ¡pido</span>
        </div>

        <button (click)="loginGoogle()" class="btn-google">
          <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google">
          <span>Entrar com Email Institucional</span>
        </button>
      </div>

      <div *ngIf="showGenderSelect" class="fade-in">
        <div class="form-header">
          <h2>Quase lÃ¡!</h2>
          <p>Para personalizar sua experiÃªncia, escolha um avatar.</p>
        </div>

        <div class="gender-grid">
          <div class="gender-option" [class.active]="selectedGender === 'Masculino'" (click)="selectGender('Masculino')">
            <div class="avatar-preview">
              <img src="assets/images/masculino.jpg" class="gender-img" alt="Masculino">
            </div>
            <span>Masculino</span>
          </div>

          <div class="gender-option" [class.active]="selectedGender === 'Feminino'" (click)="selectGender('Feminino')">
            <div class="avatar-preview">
              <img src="assets/images/feminino.jpg" class="gender-img" alt="Feminino">
            </div>
            <span>Feminino</span>
          </div>
        </div>

        <button class="btn-primary" (click)="finalizarCadastro()" [disabled]="!selectedGender">
          Concluir Cadastro <i class='bx bx-right-arrow-alt'></i>
        </button>
      </div>

    </div>
  </div>
</div>