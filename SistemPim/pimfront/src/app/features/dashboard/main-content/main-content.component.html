<div class="main-content-container">
  
  <div class="banner">
    <div class="banner-text">
      <p class="subtitle">{{ isProfessor ? 'PAINEL DO PROFESSOR' : 'ÁREA DO ALUNO' }}</p>
      <h1>Olá, {{ userName }}</h1>
    </div>
  </div>

  <div *ngIf="loading" class="loading-container">
    <i class="bx bx-loader-alt bx-spin loading-icon"></i>
    <p class="loading-text">Sincronizando Dashboard...</p>
  </div>

  <div *ngIf="!loading">
    
    <div class="stats-row">
      <div class="stat-card">
        <div class="icon-box purple"><i class="bx bx-book-bookmark"></i></div>
        <div class="stat-info"><span>Cursos</span><h4>{{ totalCursos }}</h4></div>
      </div>
      
      <div class="stat-card">
        <div class="icon-box blue"><i class="bx bx-group"></i></div>
        <div class="stat-info"><span>Turmas</span><h4>{{ totalTurmas }}</h4></div>
      </div>
      
      <div class="stat-card">
        <div class="icon-box green"><i class="bx bx-check-circle"></i></div>
        <div class="stat-info"><span>Status</span><h4>{{ statusAluno }}</h4></div>
      </div>
    </div>

    <div class="section-header mt-30">
      <h3>Minhas Turmas</h3>
    </div>

    <div class="classes-grid">
      <div *ngIf="turmas.length === 0" class="empty-state full-width">
        <i class='bx bx-calendar-x empty-icon'></i>
        <p class="empty-text">Você não está vinculado a nenhuma turma.</p>
      </div>

      <div class="class-card clickable" *ngFor="let t of turmas" (click)="acessarTurma(t.id)">
        
        <div class="card-header" [style.background]="'linear-gradient(135deg, ' + getCor(t) + ' 0%, #006660 100%)'">
          <span class="class-code-text">{{ t.codigo }}</span>
        </div>

        <div class="card-body">
          <h4 class="card-title">{{ t.nome }}</h4>
          <p class="card-subtitle">{{ t.disciplina }}</p>
          
          <div class="card-details">
            <div *ngIf="t.professor" class="detail-item">
               <i class="bx bx-user icon-green"></i> {{ t.professor }}
            </div>
            <div *ngIf="t.horario" class="detail-item">
               <i class="bx bx-time icon-green"></i> {{ t.horario }}
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="section-header mt-40" *ngIf="cursos.length > 0">
      <h3>Meus Cursos</h3>
    </div>
    
    <div class="course-list" *ngIf="cursos.length > 0">
      <div class="course-card" *ngFor="let c of cursos">
        <div class="course-card-inner">
          <strong>{{ c.titulo || c.nome }}</strong>
        </div>
      </div>
    </div>

  </div>
</div>