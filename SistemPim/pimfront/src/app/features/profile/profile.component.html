<div class="profile-container" *ngIf="!loading; else loadingTpl">
  
  <div class="profile-card">
    <div class="profile-header">
      <div class="avatar-container">
        <img [src]="user?.foto || 'assets/images/default-avatar.png'" alt="Foto de perfil">
      </div>
      <h2>{{ user?.nome || 'Usuário sem nome' }} <i class='bx bxs-badge-check verified'></i></h2>
      <p class="role">Aluno de Análise e Desenvolvimento de Sistemas</p>
      <p class="email">{{ user?.email }}</p>
    </div>

    <div class="stats-row">
      <div class="stat">
        <strong>{{ stats.projetos }}</strong>
        <span>Projetos</span>
      </div>
      <div class="stat">
        <strong>{{ stats.seguidores }}</strong>
        <span>Seguidores</span>
      </div>
      <div class="stat">
        <strong>{{ stats.seguindo }}</strong>
        <span>Seguindo</span>
      </div>
    </div>

    <div class="actions">
      <button class="btn-primary" (click)="editarPerfil()">Editar Perfil</button>
      <button class="btn-secondary" (click)="logout()">Sair</button>
    </div>
  </div>

  <div class="skills-card">
    <h3>Competências</h3>
    <div class="tags">
      <span *ngFor="let skill of competencias" class="tag">{{ skill }}</span>
    </div>
  </div>

</div>

<ng-template #loadingTpl>
  <div class="loading-screen">
    <i class='bx bx-loader-alt bx-spin'></i>
    <p>Carregando seu perfil...</p>
  </div>
</ng-template>